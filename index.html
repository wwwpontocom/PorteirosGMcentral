 <!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Escala de Irmﾃ｣os - 1ﾂｺ Semestre 2026</title>
<link rel="manifest" href="data:application/manifest+json;base64,ewogICJuYW1lIjogIlBvcnRlaXJvcyBHTUEgQ0VOVFJBTCIsCiAgInNob3J0X25hbWUiOiAiUE9SVEVJUk9TIiwKICAic3RhcnRfdXJsIjogIi4iLAogICJkaXNwbGF5IjogInN0YW5kYWxvbmUiLAogICJiYWNrZ3JvdW5kX2NvbG9yIjogIiNmZmZmZmYiLAogICJ0aGVtZV9jb2xvciI6ICIjMjE5NkYzIiwKICAiaWNvbnMiOiBbCiAgICB7CiAgICAgICJzcmMiOiAiaHR0cHM6Ly9pLmltZ3VyLmNvbS9pU09pM3hRLnBuZyIsCiAgICAgICJzaXplcyI6ICI1MTJ4NTEyIiwKICAgICAgInR5cGUiOiAiaW1hZ2UvcG5nIiwKICAgICAgInB1cnBvc2UiOiAiYW55IgogICAgfQogIF0KfQ==">
 <script>
        if ('serviceWorker' in navigator) {
            const swCode = `
                self.addEventListener('install', (e) => self.skipWaiting());
                self.addEventListener('fetch', (e) => e.respondWith(fetch(e.request)));
            `;
            const blob = new Blob([swCode], { type: 'text/javascript' });
            navigator.serviceWorker.register(URL.createObjectURL(blob));
        }
    </script>
   <style>
   :root {
        --primary-blue: #002060;
        --highlight-color: #e6ff00;
        --border-color: #000;
    }
    
    /* Base Font & Margins */
    body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin: 0; padding: 5px; background: #fff; line-height: 1.1; }
    
   nav { 
        background: linear-gradient(to bottom, #ffffff, #f1f3f5);
        padding: 12px 20px;
        border-bottom: 3px solid var(--primary-blue);
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 20px;
        flex-wrap: wrap;
        margin-bottom: 15px;
        box-shadow: 0 4px 6px rgba(0,0,0,0.05);
    }

    .nav-group {
        display: flex;
        align-items: center;
        gap: 8px;
    }

    nav label {
        font-size: 0.85rem;
        font-weight: 600;
        color: var(--primary-blue);
        text-transform: uppercase;
    }

    nav select {
        padding: 6px 10px;
        border: 1px solid #ccc;
        border-radius: 4px;
        font-family: inherit;
        font-size: 0.85rem;
        background-color: white;
        cursor: pointer;
        transition: border-color 0.2s;
    }

    nav select:focus {
        border-color: var(--primary-blue);
        outline: none;
    }

    nav button {
        background-color: var(--primary-blue);
        color: white;
        border: none;
        padding: 8px 16px;
        border-radius: 4px;
        font-weight: bold;
        font-size: 0.8rem;
        cursor: pointer;
        transition: background 0.3s, transform 0.1s;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }

    nav button:hover {
        background-color: #003399;
    }

    nav button:active {
        transform: translateY(1px);
    }
    
    .main-header { 
        background: var(--primary-blue); color: white; text-align: center; 
        padding: 5px; font-weight: bold; font-size: 1.2rem; margin-bottom: 8px;
        text-transform: uppercase;
    }

    /* Layout: 3 Columns for Calendar */
    .calendar-section {
        display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; margin-bottom: 10px;
    }
    
    /* Layout: 2 Columns for Assignments */
    .assignment-section {
        display: grid; grid-template-columns: 1fr 1fr; gap: 8px;
    }
    
    table { width: 100%; border-collapse: collapse; font-size: 0.65rem; border: 1px solid var(--border-color); table-layout: fixed; }
    th, td { border: 1px solid #aaa; padding: 2px 1px; text-align: center; overflow: hidden; white-space: nowrap; }
    
    .month-name { background: #d9d9d9; font-weight: bold; text-transform: uppercase; font-size: 0.7rem; }
    .assign-header { background: #f2f2f2; font-weight: bold; font-size: 0.65rem; }
    .sunday { color: red; }

    /* Highlighting Logic */
    .highlight { background-color: var(--highlight-color) !important; color: #000 !important; }
    .highlight td { background-color: var(--highlight-color) !important; }
    /* New rule for specific cell focus */
    .cell-focus { 
        outline: 2px solid #000; 
        font-weight: bold; 
        background-color: #fff !important; /* Makes the specific cell pop against the neon highlight */
    }

    /* --- PRINT OPTIMIZATION --- */
    @media print {
        @page { size: A4; margin: 0.5cm; }
        nav { display: none; }
        body { padding: 0; }
        
        /* // --- FIX IS HERE --- // */
        .main-header { 
            font-size: 1rem; 
            margin-bottom: 5px; 
            -webkit-print-color-adjust: exact; 
            print-color-adjust: exact; 
        }
        
        /* Force Layout for Print */
        .calendar-section { 
            grid-template-columns: repeat(3, 1fr) !important; 
            gap: 4px !important; 
        }
        .assignment-section { 
            grid-template-columns: 1fr 1fr !important; 
            gap: 6px !important; 
        }
        
        table { font-size: 0.58rem !important; }
        tr { break-inside: avoid; }
        
        /* Maintain Colors in PDF/Print */
        .highlight { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
        .month-name, .assign-header { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
    }

    /* Screen Responsiveness */
  /* Locate the Screen Responsiveness section at the end of your <style> block and replace it with this: */

/* Locate the end of your <style> block and replace the Screen Responsiveness section with this: */


    /* Mobile View: Stacks columns vertically */
    @media screen and (max-width: 800px) {
        .calendar-section { 
            grid-template-columns: 1fr !important; 
        }
        .assignment-section { 
            grid-template-columns: 1fr !important; 
        }
    }

    /* Print View: Forces the original multi-column layout */
    @media print {
        .calendar-section { 
            grid-template-columns: repeat(3, 1fr) !important; 
            display: grid !important;
            gap: 4px !important;
        }
        .assignment-section { 
            grid-template-columns: 1fr 1fr !important; 
            display: grid !important;
            gap: 6px !important;
        }
        @page { size: A4; margin: 0.5cm; }
        nav { display: none !important; }
    }


</style>
</head>
<body>

<nav>
    <div class="nav-group">
        <label for="nameSelect">Irmﾃ｣o(ﾃ｣):</label>
        <select id="nameSelect" onchange="syncAndHighlight()">
            <option value="">-- Selecione um Nome --</option>
            <optgroup label="Grupo A">
                <option value="Pelino">Pelino</option><option value="Maria">Maria</option>
                <option value="Pedro">Pedro</option><option value="Odete">Odete</option>
                <option value="Renzo">Renzo</option><option value="Marysol">Marysol</option>
                <option value="Davi">Davi</option><option value="Sonilda">Sonilda</option>
            </optgroup>
            <optgroup label="Grupo B">
                <option value="Josﾃｩ Honorino">Josﾃｩ Honorino</option><option value="Ireni">Irene</option>
                <option value="Andre Senna">Andrﾃｩ Senna</option><option value="Luciane">Luciane</option>
                <option value="Andre">Andrﾃｩ</option><option value="Tatiane">Tatiane</option>
                <option value="Edson">Edson</option><option value="Aline">Aline</option>
            </optgroup>
            <optgroup label="Grupo C">
                <option value="Osvaldo">Osvaldo</option><option value="Maria Jasiel">Maria Jasiel</option>
                <option value="Joﾃ｣o">Joﾃ｣o</option><option value="Jessica">Jessica</option>
                <option value="Gilberto">Gilberto</option><option value="Cristina">Cristina</option>
                <option value="Zﾃｩ Maria">Zﾃｩ Maria</option><option value="Mara">Mara</option>
            </optgroup>
            <optgroup label="Grupo D">
                <option value="Itamar">Itamar</option><option value="Cida">Cida</option>
                <option value="Valter">Valter</option><option value="Leidiane">Leidiane</option>
                <option value="Paulo">Paulo</option><option value="Ines">Inﾃｪs</option>
                <option value="Mauricio">Mauricio</option><option value="Tania">Tania</option>
            </optgroup>
            <optgroup label="Grupo E">
                <option value="Salatiel">Salatiel</option><option value="Gabriela">Gabriela</option>
                <option value="Antonio Carlos">Antonio Carlos</option><option value="Edileuza">Edileuza</option>
                <option value="Delfino">Delfino</option><option value="Keila">Keila</option>
                <option value="Francisco">Francisco</option><option value="TBD">TBD</option>
            </optgroup>
        </select>
    </div>
    <div class="nav-group">
        <label for="groupSelect">Grupo:</label>
        <select id="groupSelect" onchange="syncAndHighlight()">
            <option value="">-- Todos os Grupos --</option>
            <option value="GRUPO A">GRUPO A</option>
            <option value="GRUPO B">GRUPO B</option>
            <option value="GRUPO C">GRUPO C</option>
            <option value="GRUPO D">GRUPO D</option>
            <option value="GRUPO E">GRUPO E</option>
        </select>
    </div>
    <button onclick="window.print()">Imprimir</button>
<button id="btn-instalar" style="display: none; background: var(--primary-blue); color: var(--highlight-color); border: 2px solid var(--highlight-color); padding: 8px 16px; border-radius: 4px; cursor: pointer; font-weight: bold; font-size: 0.8rem; text-transform: uppercase; transition: opacity 0.3s;">
        憧 Instalar App
    </button>
</nav>

<div class="main-header">IRMﾃグS / IRMﾃゴ - 1ﾂｺ SEMESTRE 2026</div>

<div class="calendar-section">
    <table>
        <tr class="month-name"><td colspan="3">JANEIRO</td><td>RODIZIO</td></tr>
        <tr class="row-data" data-group="GRUPO E" data-rodizio="1"><td>1</td><td>Quinta-Feira</td><td>GRUPO E</td><td>1</td></tr>
        <tr class="row-data" data-group="GRUPO A" data-rodizio="1"><td class="sunday">4</td><td class="sunday">Dom. Manhﾃ｣</td><td>GRUPO A</td><td>1</td></tr>
        <tr class="row-data" data-group="GRUPO B" data-rodizio="1"><td class="sunday">4</td><td class="sunday">Dom. Noite</td><td>GRUPO B</td><td>1</td></tr>
        <tr class="row-data" data-group="GRUPO C" data-rodizio="1"><td>6</td><td>Terﾃｧa-Feira</td><td>GRUPO C</td><td>1</td></tr>
        <tr class="row-data" data-group="GRUPO D" data-rodizio="1"><td>8</td><td>Quinta-Feira</td><td>GRUPO D</td><td>1</td></tr>
        <tr class="row-data" data-group="GRUPO E" data-rodizio="2"><td>11</td><td class="sunday">Dom. Manhﾃ｣</td><td>GRUPO E</td><td>2</td></tr>
        <tr class="row-data" data-group="GRUPO A" data-rodizio="2"><td>11</td><td class="sunday">Dom. Noite</td><td>GRUPO A</td><td>2</td></tr>
        <tr class="row-data" data-group="GRUPO B" data-rodizio="2"><td>13</td><td>Terﾃｧa-Feira</td><td>GRUPO B</td><td>2</td></tr>
        <tr class="row-data" data-group="GRUPO C" data-rodizio="2"><td>15</td><td>Quinta-Feira</td><td>GRUPO C</td><td>2</td></tr>
        <tr class="row-data" data-group="GRUPO D" data-rodizio="2"><td>18</td><td class="sunday">Dom. Manhﾃ｣</td><td>GRUPO D</td><td>2</td></tr>
        <tr class="row-data" data-group="GRUPO E" data-rodizio="3"><td>18</td><td class="sunday">Dom. Noite</td><td>GRUPO E</td><td>3</td></tr>
        <tr class="row-data" data-group="GRUPO A" data-rodizio="3"><td>20</td><td>Terﾃｧa-Feira</td><td>GRUPO A</td><td>3</td></tr>
        <tr class="row-data" data-group="GRUPO B" data-rodizio="3"><td>22</td><td>Quinta-Feira</td><td>GRUPO B</td><td>3</td></tr>
        <tr class="row-data" data-group="GRUPO C" data-rodizio="3"><td>25</td><td class="sunday">Dom. Manhﾃ｣</td><td>GRUPO C</td><td>3</td></tr>
        <tr class="row-data" data-group="GRUPO D" data-rodizio="3"><td>25</td><td class="sunday">Dom. Noite</td><td>GRUPO D</td><td>3</td></tr>
        <tr class="row-data" data-group="GRUPO E" data-rodizio="4"><td>27</td><td>Terﾃｧa-Feira</td><td>GRUPO E</td><td>4</td></tr>
        <tr class="row-data" data-group="GRUPO A" data-rodizio="4"><td>29</td><td>Quinta-Feira</td><td>GRUPO A</td><td>4</td></tr>
    </table>
    
    <table>
        <tr class="month-name"><td colspan="3">FEVEREIRO</td><td>RODIZIO</td></tr>
        <tr class="row-data" data-group="GRUPO B" data-rodizio="4"><td class="sunday">1</td><td class="sunday">Dom. Manhﾃ｣</td><td>GRUPO B</td><td>4</td></tr>
        <tr class="row-data" data-group="GRUPO C" data-rodizio="4"><td class="sunday">1</td><td class="sunday">Dom. Noite</td><td>GRUPO C</td><td>4</td></tr>
        <tr class="row-data" data-group="GRUPO D" data-rodizio="4"><td>3</td><td>Terﾃｧa-Feira</td><td>GRUPO D</td><td>4</td></tr>
        <tr class="row-data" data-group="GRUPO E" data-rodizio="1"><td>5</td><td>Quinta-Feira</td><td>GRUPO E</td><td>1</td></tr>
        <tr class="row-data" data-group="GRUPO A" data-rodizio="1"><td class="sunday">8</td><td class="sunday">Dom. Manhﾃ｣</td><td>GRUPO A</td><td>1</td></tr>
        <tr class="row-data" data-group="GRUPO B" data-rodizio="1"><td class="sunday">8</td><td class="sunday">Dom. Noite</td><td>GRUPO B</td><td>1</td></tr>
        <tr class="row-data" data-group="GRUPO C" data-rodizio="1"><td>10</td><td>Terﾃｧa-Feira</td><td>GRUPO C</td><td>1</td></tr>
        <tr class="row-data" data-group="GRUPO D" data-rodizio="1"><td>12</td><td>Quinta-Feira</td><td>GRUPO D</td><td>1</td></tr>
        <tr class="row-data" data-group="GRUPO E" data-rodizio="2"><td class="sunday">15</td><td class="sunday">Dom. Manhﾃ｣</td><td>GRUPO E</td><td>2</td></tr>
        <tr class="row-data" data-group="GRUPO A" data-rodizio="2"><td class="sunday">15</td><td class="sunday">Dom. Noite</td><td>GRUPO A</td><td>2</td></tr>
        <tr class="row-data" data-group="GRUPO B" data-rodizio="2"><td>17</td><td>Terﾃｧa-Feira</td><td>GRUPO B</td><td>2</td></tr>
        <tr class="row-data" data-group="GRUPO C" data-rodizio="2"><td>19</td><td>Quinta-Feira</td><td>GRUPO C</td><td>2</td></tr>
        <tr class="row-data" data-group="GRUPO D" data-rodizio="2"><td class="sunday">22</td><td class="sunday">Dom. Manhﾃ｣</td><td>GRUPO D</td><td>2</td></tr>
        <tr class="row-data" data-group="GRUPO E" data-rodizio="3"><td class="sunday">22</td><td class="sunday">Dom. Noite</td><td>GRUPO E</td><td>3</td></tr>
        <tr class="row-data" data-group="GRUPO A" data-rodizio="3"><td>24</td><td>Terﾃｧa-Feira</td><td>GRUPO A</td><td>3</td></tr>
        <tr class="row-data" data-group="GRUPO B" data-rodizio="3"><td>26</td><td>Quinta-Feira</td><td>GRUPO B</td><td>3</td></tr>
    </table>

    <table>
        <tr class="month-name"><td colspan="3">MARﾃ⑯</td><td>RODIZIO</td></tr>
        <tr class="row-data" data-group="GRUPO C" data-rodizio="3"><td class="sunday">1</td><td class="sunday">Dom. Manhﾃ｣</td><td>GRUPO C</td><td>3</td></tr>
        <tr class="row-data" data-group="GRUPO D" data-rodizio="3"><td class="sunday">1</td><td class="sunday">Dom. Noite</td><td>GRUPO D</td><td>3</td></tr>
        <tr class="row-data" data-group="GRUPO E" data-rodizio="4"><td>3</td><td>Terﾃｧa-Feira</td><td>GRUPO E</td><td>4</td></tr>
        <tr class="row-data" data-group="GRUPO A" data-rodizio="4"><td>5</td><td>Quinta-Feira</td><td>GRUPO A</td><td>4</td></tr>
        <tr class="row-data" data-group="GRUPO B" data-rodizio="4"><td class="sunday">8</td><td class="sunday">Dom. Manhﾃ｣</td><td>GRUPO B</td><td>4</td></tr>
        <tr class="row-data" data-group="GRUPO C" data-rodizio="4"><td class="sunday">8</td><td class="sunday">Dom. Noite</td><td>GRUPO C</td><td>4</td></tr>
        <tr class="row-data" data-group="GRUPO D" data-rodizio="4"><td>10</td><td>Terﾃｧa-Feira</td><td>GRUPO D</td><td>4</td></tr>
        <tr class="row-data" data-group="GRUPO E" data-rodizio="1"><td>12</td><td>Quinta-Feira</td><td>GRUPO E</td><td>1</td></tr>
        <tr class="row-data" data-group="GRUPO A" data-rodizio="1"><td class="sunday">15</td><td class="sunday">Dom. Manhﾃ｣</td><td>GRUPO A</td><td>1</td></tr>
        <tr class="row-data" data-group="GRUPO B" data-rodizio="1"><td class="sunday">15</td><td class="sunday">Dom. Noite</td><td>GRUPO B</td><td>1</td></tr>
        <tr class="row-data" data-group="GRUPO C" data-rodizio="1"><td>17</td><td>Terﾃｧa-Feira</td><td>GRUPO C</td><td>1</td></tr>
        <tr class="row-data" data-group="GRUPO D" data-rodizio="1"><td>19</td><td>Quinta-Feira</td><td>GRUPO D</td><td>1</td></tr>
        <tr class="row-data" data-group="GRUPO E" data-rodizio="2"><td class="sunday">22</td><td class="sunday">Dom. Manhﾃ｣</td><td>GRUPO E</td><td>2</td></tr>
        <tr class="row-data" data-group="GRUPO A" data-rodizio="2"><td class="sunday">22</td><td class="sunday">Dom. Noite</td><td>GRUPO A</td><td>2</td></tr>
        <tr class="row-data" data-group="GRUPO B" data-rodizio="2"><td>24</td><td>Terﾃｧa-Feira</td><td>GRUPO B</td><td>2</td></tr>
        <tr class="row-data" data-group="GRUPO C" data-rodizio="2"><td>26</td><td>Quinta-Feira</td><td>GRUPO C</td><td>2</td></tr>
        <tr class="row-data" data-group="GRUPO D" data-rodizio="2"><td class="sunday">29</td><td class="sunday">Dom. Manhﾃ｣</td><td>GRUPO D</td><td>2</td></tr>
        <tr class="row-data" data-group="GRUPO E" data-rodizio="3"><td class="sunday">29</td><td class="sunday">Dom. Noite</td><td>GRUPO E</td><td>3</td></tr>
        <tr class="row-data" data-group="GRUPO A" data-rodizio="3"><td>31</td><td>Terﾃｧa-Feira</td><td>GRUPO A</td><td>3</td></tr>
    </table>
</div>

<div class="calendar-section">
    <table>
        <tr class="month-name"><td colspan="3">ABRIL</td><td>RODIZIO</td></tr>
        <tr class="row-data" data-group="GRUPO B" data-rodizio="3"><td>2</td><td>Quinta-Feira</td><td>GRUPO B</td><td>3</td></tr>
        <tr class="row-data" data-group="GRUPO C" data-rodizio="3"><td class="sunday">5</td><td class="sunday">Dom. Manhﾃ｣</td><td>GRUPO C</td><td>3</td></tr>
        <tr class="row-data" data-group="GRUPO D" data-rodizio="3"><td class="sunday">5</td><td class="sunday">Dom. Noite</td><td>GRUPO D</td><td>3</td></tr>
        <tr class="row-data" data-group="GRUPO E" data-rodizio="4"><td>7</td><td>Terﾃｧa-Feira</td><td>GRUPO E</td><td>4</td></tr>
        <tr class="row-data" data-group="GRUPO A" data-rodizio="4"><td>9</td><td>Quinta-Feira</td><td>GRUPO A</td><td>4</td></tr>
        <tr class="row-data" data-group="GRUPO B" data-rodizio="4"><td class="sunday">12</td><td class="sunday">Dom. Manhﾃ｣</td><td>GRUPO B</td><td>4</td></tr>
        <tr class="row-data" data-group="GRUPO C" data-rodizio="4"><td class="sunday">12</td><td class="sunday">Dom. Noite</td><td>GRUPO C</td><td>4</td></tr>
        <tr class="row-data" data-group="GRUPO D" data-rodizio="4"><td>14</td><td>Terﾃｧa-Feira</td><td>GRUPO D</td><td>4</td></tr>
        <tr class="row-data" data-group="GRUPO E" data-rodizio="1"><td>16</td><td>Quinta-Feira</td><td>GRUPO E</td><td>1</td></tr>
        <tr class="row-data" data-group="GRUPO A" data-rodizio="1"><td class="sunday">19</td><td class="sunday">Dom. Manhﾃ｣</td><td>GRUPO A</td><td>1</td></tr>
        <tr class="row-data" data-group="GRUPO B" data-rodizio="1"><td class="sunday">19</td><td class="sunday">Dom. Noite</td><td>GRUPO B</td><td>1</td></tr>
        <tr class="row-data" data-group="GRUPO C" data-rodizio="1"><td>21</td><td>Terﾃｧa-Feira</td><td>GRUPO C</td><td>1</td></tr>
        <tr class="row-data" data-group="GRUPO D" data-rodizio="1"><td>23</td><td>Quinta-Feira</td><td>GRUPO D</td><td>1</td></tr>
        <tr class="row-data" data-group="GRUPO E" data-rodizio="2"><td class="sunday">26</td><td class="sunday">Dom. Manhﾃ｣</td><td>GRUPO E</td><td>2</td></tr>
        <tr class="row-data" data-group="GRUPO A" data-rodizio="2"><td class="sunday">26</td><td class="sunday">Dom. Noite</td><td>GRUPO A</td><td>2</td></tr>
        <tr class="row-data" data-group="GRUPO B" data-rodizio="2"><td>28</td><td>Terﾃｧa-Feira</td><td>GRUPO B</td><td>2</td></tr>
        <tr class="row-data" data-group="GRUPO C" data-rodizio="2"><td>30</td><td>Quinta-Feira</td><td>GRUPO C</td><td>2</td></tr>
    </table>

    <table>
        <tr class="month-name"><td colspan="3">MAIO</td><td>RODIZIO</td></tr>
        <tr class="row-data" data-group="GRUPO D" data-rodizio="2"><td class="sunday">3</td><td class="sunday">Dom. Manhﾃ｣</td><td>GRUPO D</td><td>2</td></tr>
        <tr class="row-data" data-group="GRUPO E" data-rodizio="3"><td class="sunday">3</td><td class="sunday">Dom. Noite</td><td>GRUPO E</td><td>3</td></tr>
        <tr class="row-data" data-group="GRUPO A" data-rodizio="3"><td>5</td><td>Terﾃｧa-Feira</td><td>GRUPO A</td><td>3</td></tr>
        <tr class="row-data" data-group="GRUPO B" data-rodizio="3"><td>7</td><td>Quinta-Feira</td><td>GRUPO B</td><td>3</td></tr>
        <tr class="row-data" data-group="GRUPO C" data-rodizio="3"><td class="sunday">10</td><td class="sunday">Dom. Manhﾃ｣</td><td>GRUPO C</td><td>3</td></tr>
        <tr class="row-data" data-group="GRUPO D" data-rodizio="3"><td class="sunday">10</td><td class="sunday">Dom. Noite</td><td>GRUPO D</td><td>3</td></tr>
        <tr class="row-data" data-group="GRUPO E" data-rodizio="4"><td>12</td><td>Terﾃｧa-Feira</td><td>GRUPO E</td><td>4</td></tr>
        <tr class="row-data" data-group="GRUPO A" data-rodizio="4"><td>14</td><td>Quinta-Feira</td><td>GRUPO A</td><td>4</td></tr>
        <tr class="row-data" data-group="GRUPO B" data-rodizio="4"><td class="sunday">17</td><td class="sunday">Dom. Manhﾃ｣</td><td>GRUPO B</td><td>4</td></tr>
        <tr class="row-data" data-group="GRUPO C" data-rodizio="4"><td class="sunday">17</td><td class="sunday">Dom. Noite</td><td>GRUPO C</td><td>4</td></tr>
        <tr class="row-data" data-group="GRUPO D" data-rodizio="4"><td>19</td><td>Terﾃｧa-Feira</td><td>GRUPO D</td><td>4</td></tr>
        <tr class="row-data" data-group="GRUPO E" data-rodizio="1"><td>21</td><td>Quinta-Feira</td><td>GRUPO E</td><td>1</td></tr>
        <tr class="row-data" data-group="GRUPO A" data-rodizio="1"><td class="sunday">24</td><td class="sunday">Dom. Manhﾃ｣</td><td>GRUPO A</td><td>1</td></tr>
        <tr class="row-data" data-group="GRUPO B" data-rodizio="1"><td class="sunday">24</td><td class="sunday">Dom. Noite</td><td>GRUPO B</td><td>1</td></tr>
        <tr class="row-data" data-group="GRUPO C" data-rodizio="1"><td>26</td><td>Terﾃｧa-Feira</td><td>GRUPO C</td><td>1</td></tr>
        <tr class="row-data" data-group="GRUPO D" data-rodizio="1"><td>28</td><td>Quinta-Feira</td><td>GRUPO D</td><td>1</td></tr>
        <tr class="row-data" data-group="GRUPO E" data-rodizio="2"><td class="sunday">31</td><td class="sunday">Dom. Manhﾃ｣</td><td>GRUPO E</td><td>2</td></tr>
        <tr class="row-data" data-group="GRUPO A" data-rodizio="2"><td class="sunday">31</td><td class="sunday">Dom. Noite</td><td>GRUPO A</td><td>2</td></tr>
    </table>

    <table>
        <tr class="month-name"><td colspan="3">JUNHO</td><td>RODIZIO</td></tr>
        <tr class="row-data" data-group="GRUPO B" data-rodizio="2"><td>2</td><td>Terﾃｧa-Feira</td><td>GRUPO B</td><td>2</td></tr>
        <tr class="row-data" data-group="GRUPO C" data-rodizio="2"><td>4</td><td>Quinta-Feira</td><td>GRUPO C</td><td>2</td></tr>
        <tr class="row-data" data-group="GRUPO D" data-rodizio="2"><td class="sunday">7</td><td class="sunday">Dom. Manhﾃ｣</td><td>GRUPO D</td><td>2</td></tr>
        <tr class="row-data" data-group="GRUPO E" data-rodizio="3"><td class="sunday">7</td><td class="sunday">Dom. Noite</td><td>GRUPO E</td><td>3</td></tr>
        <tr class="row-data" data-group="GRUPO A" data-rodizio="3"><td>9</td><td>Terﾃｧa-Feira</td><td>GRUPO A</td><td>3</td></tr>
        <tr class="row-data" data-group="GRUPO B" data-rodizio="3"><td>11</td><td>Quinta-Feira</td><td>GRUPO B</td><td>3</td></tr>
        <tr class="row-data" data-group="GRUPO C" data-rodizio="3"><td class="sunday">14</td><td class="sunday">Dom. Manhﾃ｣</td><td>GRUPO C</td><td>3</td></tr>
        <tr class="row-data" data-group="GRUPO D" data-rodizio="3"><td class="sunday">14</td><td class="sunday">Dom. Noite</td><td>GRUPO D</td><td>3</td></tr>
        <tr class="row-data" data-group="GRUPO E" data-rodizio="4"><td>16</td><td>Terﾃｧa-Feira</td><td>GRUPO E</td><td>4</td></tr>
        <tr class="row-data" data-group="GRUPO A" data-rodizio="4"><td>18</td><td>Quinta-Feira</td><td>GRUPO A</td><td>4</td></tr>
        <tr class="row-data" data-group="GRUPO B" data-rodizio="4"><td class="sunday">21</td><td class="sunday">Dom. Manhﾃ｣</td><td>GRUPO B</td><td>4</td></tr>
        <tr class="row-data" data-group="GRUPO C" data-rodizio="4"><td class="sunday">21</td><td class="sunday">Dom. Noite</td><td>GRUPO C</td><td>4</td></tr>
        <tr class="row-data" data-group="GRUPO D" data-rodizio="4"><td>23</td><td>Terﾃｧa-Feira</td><td>GRUPO D</td><td>4</td></tr>
        <tr class="row-data" data-group="GRUPO E" data-rodizio="1"><td>25</td><td>Quinta-Feira</td><td>GRUPO E</td><td>1</td></tr>
        <tr class="row-data" data-group="GRUPO A" data-rodizio="1"><td class="sunday">28</td><td class="sunday">Dom. Manhﾃ｣</td><td>GRUPO A</td><td>1</td></tr>
        <tr class="row-data" data-group="GRUPO B" data-rodizio="1"><td class="sunday">28</td><td class="sunday">Dom. Noite</td><td>GRUPO B</td><td>1</td></tr>
        <tr class="row-data" data-group="GRUPO C" data-rodizio="1"><td>30</td><td>Terﾃｧa-Feira</td><td>GRUPO C</td><td>1</td></tr>
    </table>
</div>

<div class="assignment-section">
    <div style="display:contents">
        <table>
            <tr class="assign-header">
                <td>GRUPO</td><td>RODIZIO</td><td>FRENTE</td><td>LATERAL</td><td>BANHEIRO</td><td><span style="font-size: 0.4rem;">ESTACIONAMENTO</span><br><span style="font-size: 0.4rem;">APOIO SALﾃグ</span></td>
            <tr class="row-data" data-group="GRUPO A" data-rodizio="1" data-names="Pelino,Maria,Pedro,Odete,Renzo,Marysol,Davi,Sonilda"><td>A</td><td>1</td><td>Pelino<br>Maria</td><td>Pedro<br>Odete</td><td>Renzo<br>Marysol</td><td>Davi<br>Sonilda</td></tr>
            <tr class="row-data" data-group="GRUPO B" data-rodizio="1" data-names="Josﾃｩ Honorino,Ireni,Andre Senna,Luciane,Andre,Tatiane,Edson,Aline"><td>B</td><td>1</td><td>Josﾃｩ Honorino<br>Irene</td><td>Andrﾃｩ Senna<br>Luciane</td><td>Andrﾃｩ<br>Tatiane</td><td>Edson<br>Aline</td></tr>
            <tr class="row-data" data-group="GRUPO C" data-rodizio="1" data-names="Osvaldo,Maria Jasiel,Joﾃ｣o,Jessica,Gilberto,Cristina,Zﾃｩ Maria,Mara"><td>C</td><td>1</td><td>Osvaldo<br>Maria Jasiel</td><td>Joﾃ｣o<br>Jessica</td><td>Gilberto<br>Cristina</td><td>Zﾃｩ Maria<br>Mara</td></tr>
            <tr class="row-data" data-group="GRUPO D" data-rodizio="1" data-names="Itamar,Cida,Valter,Leidiane,Paulo,Ines,Mauricio,Tania"><td>D</td><td>1</td><td>Itamar<br>Cida</td><td>Valter<br>Leidiane</td><td>Paulo<br>Inﾃｪs</td><td>Mauricio<br>Tania</td></tr>
            <tr class="row-data" data-group="GRUPO E" data-rodizio="1" data-names="Salatiel,Gabriela,Antonio Carlos,Edileuza,Delfino,Keila,Francisco,TBD"><td>E</td><td>1</td><td>Salatiel<br>Gabriela</td><td>Antonio Carlos<br>Edileuza</td><td>Delfino<br>Keila</td><td>Francisco<br>TBD</td></tr>
        </table>
        <table>
            <tr class="assign-header">
                <td>GRUPO</td><td>RODIZIO</td><td>FRENTE</td><td>LATERAL</td><td>BANHEIRO</td><td><span style="font-size: 0.4rem;">ESTACIONAMENTO</span><br><span style="font-size: 0.4rem;">APOIO SALﾃグ</span></td>
            <tr class="row-data" data-group="GRUPO A" data-rodizio="2" data-names="Davi,Sonilda,Pelino,Maria,Pedro,Odete,Renzo,Marysol"><td>A</td><td>2</td><td>Davi<br>Sonilda</td><td>Pelino<br>Maria</td><td>Pedro<br>Odete</td><td>Renzo<br>Marysol</td></tr>
            <tr class="row-data" data-group="GRUPO B" data-rodizio="2" data-names="Edson,Aline,Josﾃｩ Honorino,Ireni,Andre Senna,Luciane,Andre,Tatiane"><td>B</td><td>2</td><td>Edson<br>Aline</td><td>Josﾃｩ Honorino<br>Irene</td><td>Andrﾃｩ Senna<br>Luciane</td><td>Andrﾃｩ<br>Tatiane</td></tr>
            <tr class="row-data" data-group="GRUPO C" data-rodizio="2" data-names="Zﾃｩ Maria,Mara,Osvaldo,Maria Jasiel,Joﾃ｣o,Jessica,Gilberto,Cristina"><td>C</td><td>2</td><td>Zﾃｩ Maria<br>Mara</td><td>Osvaldo<br>Maria Jasiel</td><td>Joﾃ｣o<br>Jessica</td><td>Gilberto<br>Cristina</td></tr>
            <tr class="row-data" data-group="GRUPO D" data-rodizio="2" data-names="Mauricio,Tania,Itamar,Cida,Valter,Leidiane,Paulo,Ines"><td>D</td><td>2</td><td>Mauricio<br>Tania</td><td>Itamar<br>Cida</td><td>Valter<br>Leidiane</td><td>Paulo<br>Inﾃｪs</td></tr>
            <tr class="row-data" data-group="GRUPO E" data-rodizio="2" data-names="Francisco,TBD,Salatiel,Gabriela,Antonio Carlos,Edileuza,Delfino,Keila"><td>E</td><td>2</td><td>Francisco<br>TBD</td><td>Salatiel<br>Gabriela</td><td>Antonio Carlos<br>Edileuza</td><td>Delfino<br>Keila</td></tr>
        </table>
    </div>
    <div style="display:contents">
        <table>
            <tr class="assign-header">
                <td>GRUPO</td><td>RODIZIO</td><td>FRENTE</td><td>LATERAL</td><td>BANHEIRO</td><td><span style="font-size: 0.4rem;">ESTACIONAMENTO</span><br><span style="font-size: 0.4rem;">APOIO SALﾃグ</span></td>
            <tr class="row-data" data-group="GRUPO A" data-rodizio="3" data-names="Renzo,Marysol,Davi,Sonilda,Pelino,Maria,Pedro,Odete"><td>A</td><td>3</td><td>Renzo<br>Marysol</td><td>Davi<br>Sonilda</td><td>Pelino<br>Maria</td><td>Pedro<br>Odete</td></tr>
            <tr class="row-data" data-group="GRUPO B" data-rodizio="3" data-names="Andre,Tatiane,Edson,Aline,Josﾃｩ Honorino,Ireni,Andre Senna,Luciane"><td>B</td><td>3</td><td>Andrﾃｩ<br>Tatiane</td><td>Edson<br>Aline</td><td>Josﾃｩ Honorino<br>Irene</td><td>Andrﾃｩ Senna<br>Luciane</td></tr>
            <tr class="row-data" data-group="GRUPO C" data-rodizio="3" data-names="Gilberto,Cristina,Zﾃｩ Maria,Mara,Osvaldo,Maria Jasiel,Joﾃ｣o,Jessica"><td>C</td><td>3</td><td>Gilberto<br>Cristina</td><td>Zﾃｩ Maria<br>Mara</td><td>Osvaldo<br>Maria Jasiel</td><td>Joﾃ｣o<br>Jessica</td></tr>
            <tr class="row-data" data-group="GRUPO D" data-rodizio="3" data-names="Paulo,Ines,Mauricio,Tania,Itamar,Cida,Valter,Leidiane"><td>D</td><td>3</td><td>Paulo<br>Inﾃｪs</td><td>Mauricio<br>Tania</td><td>Itamar<br>Cida</td><td>Valter<br>Leidiane</td></tr>
            <tr class="row-data" data-group="GRUPO E" data-rodizio="3" data-names="Delfino,Keila,Francisco,TBD,Salatiel,Gabriela,Antonio Carlos,Edileuza"><td>E</td><td>3</td><td>Delfino<br>Keila</td><td>Francisco<br>TBD</td><td>Salatiel<br>Gabriela</td><td>Antonio Carlos<br>Edileuza</td></tr>
        </table>
        <table>
            <tr class="assign-header">
                <td>GRUPO</td><td>RODIZIO</td><td>FRENTE</td><td>LATERAL</td><td>BANHEIRO</td><td><span style="font-size: 0.4rem;">ESTACIONAMENTO</span><br><span style="font-size: 0.4rem;">APOIO SALﾃグ</span></td>
            </tr>
            <tr class="row-data" data-group="GRUPO A" data-rodizio="4" data-names="Pedro,Odete,Renzo,Marysol,Davi,Sonilda,Pelino,Maria"><td>A</td><td>4</td><td>Pedro<br>Odete</td><td>Renzo<br>Marysol</td><td>Davi<br>Sonilda</td><td>Pelino<br>Maria</td></tr>
            <tr class="row-data" data-group="GRUPO B" data-rodizio="4" data-names="Andre Senna,Luciane,Andre,Tatiane,Edson,Aline,Josﾃｩ Honorino,Ireni"><td>B</td><td>4</td><td>Andrﾃｩ Senna<br>Luciane</td><td>Andrﾃｩ<br>Tatiane</td><td>Edson<br>Aline</td><td>Josﾃｩ Honorino<br>Irene</td></tr>
            <tr class="row-data" data-group="GRUPO C" data-rodizio="4" data-names="Joﾃ｣o,Jessica,Gilberto,Cristina,Zﾃｩ Maria,Mara,Osvaldo,Maria Jasiel"><td>C</td><td>4</td><td>Joﾃ｣o<br>Jessica</td><td>Gilberto<br>Cristina</td><td>Zﾃｩ Maria<br>Mara</td><td>Osvaldo<br>Maria Jasiel</td></tr>
            <tr class="row-data" data-group="GRUPO D" data-rodizio="4" data-names="Valter,Leidiane,Paulo,Ines,Mauricio,Tania,Itamar,Cida"><td>D</td><td>4</td><td>Valter<br>Leidiane</td><td>Paulo<br>Inﾃｪs</td><td>Mauricio<br>Tania</td><td>Itamar<br>Cida</td></tr>
            <tr class="row-data" data-group="GRUPO E" data-rodizio="4" data-names="Antonio Carlos,Edileuza,Delfino,Keila,Francisco,TBD,Salatiel,Gabriela"><td>E</td><td>4</td><td>Antonio Carlos<br>Edileuza</td><td>Delfino<br>Keila</td><td>Francisco<br>TBD</td><td>Salatiel<br>Gabriela</td></tr>
        </table>
    </div>
</div>
<script>
let deferredPrompt;
const btnInstalar = document.getElementById('btn-instalar');

window.addEventListener('beforeinstallprompt', (e) => {
    e.preventDefault();
    deferredPrompt = e;
    btnInstalar.style.display = 'inline-block'; // Shows button when installable
});

btnInstalar.addEventListener('click', () => {
    if (deferredPrompt) {
        deferredPrompt.prompt();
        deferredPrompt.userChoice.then((choice) => {
            if (choice.outcome === 'accepted') btnInstalar.style.display = 'none';
            deferredPrompt = null;
        });
    }
});
   // --- FIX IS HERE ---
// Replace the existing script with this logic to enable cross-table highlighting
// --- FIX IS HERE ---
function syncAndHighlight() {
    const nameSelect = document.getElementById('nameSelect');
    const groupSelect = document.getElementById('groupSelect');
    let selectedName = nameSelect.value;
    const selectedGroup = groupSelect.value;

    if (selectedName === "Ines") selectedName = "Inﾃｪs";

    document.querySelectorAll('.row-data').forEach(row => {
        row.classList.remove('highlight');
        row.querySelectorAll('td').forEach(td => {
            td.classList.remove('cell-focus');
            td.removeAttribute('data-tooltip-text');
        });
    });

    if (selectedName) {
        const assignmentRows = Array.from(document.querySelectorAll('.assignment-section .row-data'))
            .filter(row => {
                const namesAttr = row.getAttribute('data-names') || "";
                const nameList = namesAttr.split(',').map(n => n.trim());
                return nameList.includes(selectedName) || (selectedName === "Inﾃｪs" && nameList.includes("Ines"));
            });
        
        if (assignmentRows.length > 0) {
            const group = assignmentRows[0].getAttribute('data-group');
            const rodizioMap = {};

            assignmentRows.forEach(row => {
                const rodNum = row.getAttribute('data-rodizio');
                const cells = row.querySelectorAll('td');
                const headers = document.querySelectorAll('.assign-header td');
                
                for(let i = 2; i < cells.length; i++) {
                    const cellNames = cells[i].innerText.split('\n').map(n => n.trim());
                    if(cellNames.includes(selectedName) || (selectedName === "Inﾃｪs" && cellNames.includes("Ines"))) {
                        rodizioMap[rodNum] = headers[i].innerText.replace('\n', ' ');
                    }
                }
            });

            document.querySelectorAll(`.calendar-section .row-data[data-group="${group}"]`)
                .forEach(row => {
                    row.classList.add('highlight');
                    const rodNum = row.getAttribute('data-rodizio');
                    const local = rodizioMap[rodNum] || "Escalado";
                    row.setAttribute('data-tooltip-text', `Vocﾃｪ estﾃ｡: ${local}`);
                });
            
            document.querySelectorAll('.assignment-section td').forEach(td => {
                const cellNames = td.innerText.split('\n').map(n => n.trim());
                if (cellNames.includes(selectedName) || (selectedName === "Inﾃｪs" && cellNames.includes("Ines"))) {
                    td.parentElement.classList.add('highlight');
                    td.classList.add('cell-focus');
                }
            });
        }
    } else if (selectedGroup) {
        document.querySelectorAll(`.row-data[data-group="${selectedGroup}"]`)
            .forEach(row => row.classList.add('highlight'));
    }
}

// TOOLTIP LOGIC (Sticky for Touch with Close Button)
function showTooltip(e, td) {
    const row = td.parentElement;
    let tooltipContent = "";

    if (row.closest('.calendar-section') && row.classList.contains('highlight')) {
        tooltipContent = row.getAttribute('data-tooltip-text');
    } else if (row.closest('.assignment-section')) {
        const colIndex = td.cellIndex;
        const headers = row.closest('table').querySelectorAll('.assign-header td');
        const place = headers[colIndex] ? headers[colIndex].innerText.replace('\n', ' ') : "";
        const name = td.innerText.trim();
        if (name && name.length > 2 && name !== "GRUPO" && colIndex >= 2) {
            tooltipContent = `<strong>${place}</strong>`;
        }
    }

    if (tooltipContent) {
        let tooltip = document.getElementById('stat-tooltip');
        if (!tooltip) {
            tooltip = document.createElement('div');
            tooltip.id = 'stat-tooltip';
            document.body.appendChild(tooltip);
        }
        
        // Added Close X Button
        tooltip.innerHTML = `${tooltipContent} <span id="close-tooltip" style="margin-left:10px; cursor:pointer; font-weight:bold; padding:0 2px;">&times;</span>`;
        
        tooltip.style.cssText = `position:fixed; background:#002060; color:#fff; padding:6px 12px; 
                                 border-radius:4px; font-size:0.75rem; z-index:1000; 
                                 pointer-events:auto; box-shadow: 2px 2px 8px rgba(0,0,0,0.3);
                                 display: flex; align-items: center; justify-content: space-between;`;
        
        if (tooltipContent.includes("Vocﾃｪ estﾃ｡") || row.closest('.assignment-section')) {
            tooltip.style.background = "#e6ff00";
            tooltip.style.color = "#000";
            tooltip.style.border = "1px solid #000";
        }

        const clientX = e.touches ? e.touches[0].clientX : e.clientX;
        const clientY = e.touches ? e.touches[0].clientY : e.clientY;
        tooltip.style.top = (clientY + 15) + 'px';
        tooltip.style.left = (clientX + 15) + 'px';
        
        if (e.touches) tooltip.setAttribute('data-is-touch', 'true');

        // Close button functionality
        document.getElementById('close-tooltip').addEventListener('click', () => tooltip.remove());
    }
}

document.querySelectorAll('.row-data td').forEach(td => {
    td.addEventListener('mouseenter', (e) => showTooltip(e, td));
    td.addEventListener('touchstart', (e) => showTooltip(e, td), {passive: true});

    td.addEventListener('mousemove', (e) => {
        const t = document.getElementById('stat-tooltip');
        if (t && !t.hasAttribute('data-is-touch')) {
            t.style.top = (e.clientY + 15) + 'px';
            t.style.left = (e.clientX + 15) + 'px';
        }
    });

    td.addEventListener('mouseleave', (e) => {
        const t = document.getElementById('stat-tooltip');
        // Prevent removal if the mouse is moving into the tooltip itself to click the X
        if(t && !t.hasAttribute('data-is-touch') && e.relatedTarget !== t) t.remove();
    });
});

document.addEventListener('touchstart', (e) => {
    const t = document.getElementById('stat-tooltip');
    if (t && !e.target.closest('td') && !e.target.closest('#stat-tooltip')) {
        t.remove();
    }
}, {passive: true});
// --- END OF FIX --- 

</script>

</body>
</html> 
